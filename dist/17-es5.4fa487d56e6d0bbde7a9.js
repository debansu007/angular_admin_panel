(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"8Xca":function(n,e,t){"use strict";t.r(e);var l=t("CcnG"),o=t("mrSG"),a=t("ZJFI"),i=t("t9fZ"),u=t("njzu"),r=function(){function n(n,e,t,l,o){var a=this;this.afAuth=n,this.router=e,this.databaseServ=t,this._sanitizer=l,this.dataServ=o,this.canDisplay=!1,this.settings={actions:{add:!1,edit:!0,delete:!1,position:"left"},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmSave:!0},columns:{name:{title:"Name"},email:{title:"Email",editable:!1},phone:{title:"Phone"},image:{title:"Image",type:"html",valuePrepareFunction:function(n){return a._sanitizer.bypassSecurityTrustHtml('<img style="width: 150px; height: 100px;" src=\''+(n||"/assets/images/no_img_available.jpg")+"' />")},filter:!1,editable:!1},websiteUrl:{title:"Website"},verifyStatus:{title:"Status",editable:!1,filter:!1}}},this.data=[],this.afAuth.authState.subscribe(function(n){n?(a.canDisplay=!0,a.dataServ.userSource.subscribe(function(n){console.log("user page",n),n&&"admin"!=n.userType&&a.router.navigate(["pages/report"])},function(n){console.log(n)})):(a.canDisplay=!1,a.router.navigate(["auth/login"]))})}return n.prototype.ngOnInit=function(){this.getOrganizations()},n.prototype.getOrganizations=function(){var n=this;this.databaseServ.getAllOrganization().pipe(Object(i.a)(1)).subscribe(function(e){console.log(e),e.forEach(function(n,t){e[t]=o.__assign({},e[t],{verifyStatus:n.userid?"Verified":"Unverified"})}),n.data=e},function(n){console.log(n)})},n.prototype.onEditConfirm=function(n){console.log("foo",n),this.updateComp(n)},n.prototype.updateComp=function(n){delete n.newData.verifyStatus,this.databaseServ.updateCompany(n.newData).then(function(e){n.confirm.resolve()}).catch(function(e){console.log(e),n.confirm.reject()})},n.prototype.onRowSelect=function(n){console.log(n),this.router.navigate(["pages/report"],{queryParams:{companyId:n.data.id}})},n}(),c=function(){return function(){}}(),s=t("pMnS"),d=t("jXVt"),m=t("Xk95"),p=t("+ImT"),f=t("Qq3i"),g=t("Ip0R"),v=t("ZBkt"),b=t("ZYCi"),h=t("ZYjt"),y=l["\u0275crt"]({encapsulation:0,styles:[[".nb-theme-default nb-card-body::-webkit-scrollbar{height:15px}"]],data:{}});function _(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,8,"nb-card",[],[[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null]],null,null,d.Bb,d.F)),l["\u0275did"](1,49152,null,0,m.nb,[],null,null),(n()(),l["\u0275eld"](2,0,null,0,2,"nb-card-header",[],null,null,null,d.Db,d.H)),l["\u0275did"](3,49152,null,0,m.qb,[],null,null),(n()(),l["\u0275ted"](-1,0,[" Company Table "])),(n()(),l["\u0275eld"](5,0,null,1,3,"nb-card-body",[],null,null,null,d.Ab,d.E)),l["\u0275did"](6,49152,null,0,m.mb,[],null,null),(n()(),l["\u0275eld"](7,0,null,0,1,"ng2-smart-table",[],null,[[null,"editConfirm"],[null,"userRowSelect"]],function(n,e,t){var l=!0,o=n.component;return"editConfirm"===e&&(l=!1!==o.onEditConfirm(t)&&l),"userRowSelect"===e&&(l=!1!==o.onRowSelect(t)&&l),l},p.b,p.a)),l["\u0275did"](8,573440,null,0,f.a,[],{source:[0,"source"],settings:[1,"settings"]},{userRowSelect:"userRowSelect",editConfirm:"editConfirm"})],function(n,e){var t=e.component;n(e,8,0,t.data,t.settings)},function(n,e){n(e,0,1,[l["\u0275nov"](e,1).tiny,l["\u0275nov"](e,1).small,l["\u0275nov"](e,1).medium,l["\u0275nov"](e,1).large,l["\u0275nov"](e,1).giant,l["\u0275nov"](e,1).primary,l["\u0275nov"](e,1).info,l["\u0275nov"](e,1).success,l["\u0275nov"](e,1).warning,l["\u0275nov"](e,1).danger,l["\u0275nov"](e,1).hasAccent,l["\u0275nov"](e,1).primaryAccent,l["\u0275nov"](e,1).infoAccent,l["\u0275nov"](e,1).successAccent,l["\u0275nov"](e,1).warningAccent,l["\u0275nov"](e,1).dangerAccent])})}function C(n){return l["\u0275vid"](0,[(n()(),l["\u0275and"](16777216,null,null,1,null,_)),l["\u0275did"](1,16384,null,0,g.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){n(e,1,0,e.component.canDisplay)},null)}function S(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ngx-company",[],null,null,null,C,y)),l["\u0275did"](1,114688,null,0,r,[v.a,b.l,a.a,h.b,u.a],null,null)],function(n,e){n(e,1,0)},null)}var w=l["\u0275ccf"]("ngx-company",r,S,{},{},[]),k=t("gIcY"),R=t("t/Na"),F=t("u1Dc"),A=t("VDLQ"),z=t("NrAT"),I=t("m1S1"),D=t("WBAi"),M=t("mbdJ"),N=t("6t6V");t.d(e,"CompanyModuleNgFactory",function(){return j});var j=l["\u0275cmf"](c,[],function(n){return l["\u0275mod"]([l["\u0275mpd"](512,l.ComponentFactoryResolver,l["\u0275CodegenComponentFactoryResolver"],[[8,[s.a,w]],[3,l.ComponentFactoryResolver],l.NgModuleRef]),l["\u0275mpd"](4608,g.NgLocalization,g.NgLocaleLocalization,[l.LOCALE_ID,[2,g["\u0275angular_packages_common_common_a"]]]),l["\u0275mpd"](4608,k["\u0275angular_packages_forms_forms_o"],k["\u0275angular_packages_forms_forms_o"],[]),l["\u0275mpd"](4608,k.FormBuilder,k.FormBuilder,[]),l["\u0275mpd"](4608,R.l,R.r,[g.DOCUMENT,l.PLATFORM_ID,R.p]),l["\u0275mpd"](4608,R.s,R.s,[R.l,R.q]),l["\u0275mpd"](5120,R.a,function(n){return[n]},[R.s]),l["\u0275mpd"](4608,R.o,R.o,[]),l["\u0275mpd"](6144,R.m,null,[R.o]),l["\u0275mpd"](4608,R.k,R.k,[R.m]),l["\u0275mpd"](6144,R.b,null,[R.k]),l["\u0275mpd"](4608,R.g,R.n,[R.b,l.Injector]),l["\u0275mpd"](4608,R.c,R.c,[R.g]),l["\u0275mpd"](4608,F.i,F.i,[]),l["\u0275mpd"](4608,F.k,F.k,[R.c]),l["\u0275mpd"](4608,F.c,F.c,[F.i,F.k]),l["\u0275mpd"](1073742336,g.CommonModule,g.CommonModule,[]),l["\u0275mpd"](1073742336,b.p,b.p,[[2,b.u],[2,b.l]]),l["\u0275mpd"](1073742336,k["\u0275angular_packages_forms_forms_d"],k["\u0275angular_packages_forms_forms_d"],[]),l["\u0275mpd"](1073742336,k.FormsModule,k.FormsModule,[]),l["\u0275mpd"](1073742336,k.ReactiveFormsModule,k.ReactiveFormsModule,[]),l["\u0275mpd"](1073742336,R.e,R.e,[]),l["\u0275mpd"](1073742336,R.d,R.d,[]),l["\u0275mpd"](1073742336,F.j,F.j,[]),l["\u0275mpd"](1073742336,A.a,A.a,[]),l["\u0275mpd"](1073742336,z.a,z.a,[]),l["\u0275mpd"](1073742336,I.a,I.a,[]),l["\u0275mpd"](1073742336,D.a,D.a,[]),l["\u0275mpd"](1073742336,M.a,M.a,[]),l["\u0275mpd"](1073742336,N.a,N.a,[]),l["\u0275mpd"](1073742336,m.Ke,m.Ke,[]),l["\u0275mpd"](1073742336,m.mc,m.mc,[m.lc]),l["\u0275mpd"](1073742336,m.rb,m.rb,[]),l["\u0275mpd"](1073742336,m.pc,m.pc,[]),l["\u0275mpd"](1073742336,m.Q,m.Q,[]),l["\u0275mpd"](1073742336,c,c,[]),l["\u0275mpd"](256,R.p,"XSRF-TOKEN",[]),l["\u0275mpd"](256,R.q,"X-XSRF-TOKEN",[]),l["\u0275mpd"](1024,b.j,function(){return[[{path:"",component:r}]]},[])])})}}]);