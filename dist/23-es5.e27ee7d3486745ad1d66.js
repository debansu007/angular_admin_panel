(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{v1BX:function(n,e,o){"use strict";o.r(e);var l=o("CcnG"),t=o("ZJFI"),i=o("njzu"),a=function(){function n(n,e,o,l,t){var i=this;this.afAuth=n,this.router=e,this.databaseServ=o,this.toastrService=l,this.dataServ=t,this.canDisplay=!1,this.ckeditorContent="",this.pdfSrc="",this.fileName="",this.filBase64=null,this.uploadFolderName="privacy",this.uploadFileName="privacy.pdf",this.collectionName="terms_n_privacy",this.documentName="privacy",this.loading=!1,this.afAuth.authState.subscribe(function(n){n?(i.canDisplay=!0,i.getPrivacy(),i.dataServ.userSource.subscribe(function(n){console.log("user page",n),n&&"admin"!=n.userType&&i.router.navigate(["pages/report"])},function(n){console.log(n)})):(i.canDisplay=!1,i.router.navigate(["auth/login"]))})}return n.prototype.getPrivacy=function(){var n=this;this.databaseServ.getTerms(this.collectionName,this.documentName).subscribe(function(e){e&&e.showHtml&&(n.ckeditorContent=e.showHtml)},function(n){console.log(n)})},n.prototype.ngOnInit=function(){this.getTermsPdfUrl()},n.prototype.getTermsPdfUrl=function(){var n=this;this.databaseServ.getFileUrl(this.uploadFolderName,this.uploadFileName).subscribe(function(e){console.log("url",e),e&&(n.pdfSrc=e)},function(n){console.log(n)})},n.prototype.changeListener=function(n){this.readThis(n.target)},n.prototype.readThis=function(n){var e=this,o=n.files[0];this.fileName=o.name;var l=new FileReader;l.onloadend=function(n){e.filBase64=l.result},l.readAsDataURL(o)},n.prototype.uploadPdf=function(){var n=this;this.loading=!0,this.databaseServ.storePdf(this.filBase64,this.uploadFolderName,this.uploadFileName).then(function(e){console.log("uploaded",e),n.toastrService.success("File uploaded successfully.","Success!"),n.loading=!1,n.fileName="",n.getTermsPdfUrl()}).catch(function(e){console.log(e),n.toastrService.danger("Something went wrong.","Error!"),n.loading=!1})},n.prototype.onChange=function(n){},n.prototype.onEditorChange=function(n){},n.prototype.onReady=function(n){},n.prototype.onFocus=function(n){},n.prototype.onBlur=function(n){},n.prototype.onContentDom=function(n){},n.prototype.onFileUploadRequest=function(n){},n.prototype.onFileUploadResponse=function(n){},n.prototype.onPaste=function(n){},n.prototype.onDrop=function(n){},n.prototype.save=function(){var n=this;this.loading=!0,this.databaseServ.saveTerms(this.collectionName,this.documentName,this.ckeditorContent).then(function(e){n.loading=!1,n.toastrService.success("Terms text updated.","Success!")}).catch(function(e){n.loading=!1,console.log(e),n.toastrService.danger("Something went wrong.","Error!")})},n}(),u=function(){return function(){}}(),r=o("pMnS"),s=o("jXVt"),d=o("Xk95"),c=o("3vqK"),p=o("EB9a"),g=o("gIcY"),f=o("Ip0R"),m=o("ZBkt"),v=o("ZYCi"),h=l["\u0275crt"]({encapsulation:0,styles:[[".upload-wrap[_ngcontent-%COMP%]{height:300px;background:#acbfff;border-radius:5px;border:3px dotted #000;position:relative}.fileInput[_ngcontent-%COMP%]{z-index:99999;opacity:0;width:100%;height:100%}.uploadTxt[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}.padding-10[_ngcontent-%COMP%]{padding:10px}.loading-screen[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:5px;background:#e2e2e2}.loading-img[_ngcontent-%COMP%]{width:50%;height:100%}.uploadBtn[_ngcontent-%COMP%]{width:200px}.goIcon[_ngcontent-%COMP%]{font-size:15px;margin:5px}"]],data:{}});function y(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,15,"nb-card-body",[["style","min-height: 500px;"]],null,null,null,s.Ab,s.E)),l["\u0275did"](1,49152,null,0,d.mb,[],null,null),(n()(),l["\u0275eld"](2,0,null,0,8,"ckeditor",[["debounce","500"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"editorChange"],[null,"ready"],[null,"focus"],[null,"blur"],[null,"contentDom"],[null,"fileUploadRequest"],[null,"fileUploadResponse"],[null,"paste"],[null,"drop"]],function(n,e,o){var l=!0,t=n.component;return"ngModelChange"===e&&(l=!1!==(t.ckeditorContent=o)&&l),"change"===e&&(l=!1!==t.onChange(o)&&l),"editorChange"===e&&(l=!1!==t.onEditorChange(o)&&l),"ready"===e&&(l=!1!==t.onReady(o)&&l),"focus"===e&&(l=!1!==t.onFocus(o)&&l),"blur"===e&&(l=!1!==t.onBlur(o)&&l),"contentDom"===e&&(l=!1!==t.onContentDom(o)&&l),"fileUploadRequest"===e&&(l=!1!==t.onFileUploadRequest(o)&&l),"fileUploadResponse"===e&&(l=!1!==t.onFileUploadResponse(o)&&l),"paste"===e&&(l=!1!==t.onPaste(o)&&l),"drop"===e&&(l=!1!==t.onDrop(o)&&l),l},c.b,c.a)),l["\u0275did"](3,13287424,null,2,p.CKEditorComponent,[l.NgZone],{config:[0,"config"],readonly:[1,"readonly"],debounce:[2,"debounce"]},{change:"change",editorChange:"editorChange",ready:"ready",blur:"blur",focus:"focus",contentDom:"contentDom",fileUploadRequest:"fileUploadRequest",fileUploadResponse:"fileUploadResponse",paste:"paste",drop:"drop"}),l["\u0275qud"](603979776,1,{toolbarButtons:1}),l["\u0275qud"](603979776,2,{toolbarGroups:1}),l["\u0275pod"](6,{uiColor:0,height:1}),l["\u0275prd"](1024,null,g.NG_VALUE_ACCESSOR,function(n){return[n]},[p.CKEditorComponent]),l["\u0275did"](8,671744,null,0,g.NgModel,[[8,null],[8,null],[8,null],[6,g.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,g.NgControl,null,[g.NgModel]),l["\u0275did"](10,16384,null,0,g.NgControlStatus,[[4,g.NgControl]],null,null),(n()(),l["\u0275eld"](11,0,null,0,4,"div",[["class","col-12 text-center"],["style","margin: 10px 0;"]],null,null,null,null,null)),(n()(),l["\u0275eld"](12,16777216,null,null,3,"button",[["nbButton",""]],[[2,"appearance-filled",null],[2,"appearance-outline",null],[2,"appearance-ghost",null],[2,"appearance-hero",null],[2,"full-width",null],[1,"aria-disabled",0],[2,"btn-disabled",null],[1,"tabindex",0],[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"shape-rectangle",null],[2,"shape-round",null],[2,"shape-semi-round",null],[2,"icon-start",null],[2,"icon-end",null],[2,"transitions",null],[2,"nb-spinner-container",null]],[[null,"click"]],function(n,e,o){var t=!0,i=n.component;return"click"===e&&(t=!1!==l["\u0275nov"](n,13).onClick(o)&&t),"click"===e&&(t=!1!==i.save()&&t),t},s.vb,s.z)),l["\u0275did"](13,4243456,null,0,d.P,[l.Renderer2,l.ElementRef,l.ChangeDetectorRef],{disabled:[0,"disabled"]},null),l["\u0275did"](14,81920,null,0,d.Fd,[l.ViewContainerRef,l.ComponentFactoryResolver,l.Renderer2,l.ElementRef],{nbSpinner:[0,"nbSpinner"]},null),(n()(),l["\u0275ted"](-1,0,["Update"]))],function(n,e){var o=e.component,l=n(e,6,0,"#3366ff","350");n(e,3,0,l,!1,"500"),n(e,8,0,o.ckeditorContent),n(e,13,0,o.loading),n(e,14,0,o.loading)},function(n,e){n(e,2,0,l["\u0275nov"](e,10).ngClassUntouched,l["\u0275nov"](e,10).ngClassTouched,l["\u0275nov"](e,10).ngClassPristine,l["\u0275nov"](e,10).ngClassDirty,l["\u0275nov"](e,10).ngClassValid,l["\u0275nov"](e,10).ngClassInvalid,l["\u0275nov"](e,10).ngClassPending),n(e,12,1,[l["\u0275nov"](e,13).filled,l["\u0275nov"](e,13).outline,l["\u0275nov"](e,13).ghost,l["\u0275nov"](e,13).hero,l["\u0275nov"](e,13).fullWidth,l["\u0275nov"](e,13).disabled,l["\u0275nov"](e,13).disabled,l["\u0275nov"](e,13).tabbable,l["\u0275nov"](e,13).tiny,l["\u0275nov"](e,13).small,l["\u0275nov"](e,13).medium,l["\u0275nov"](e,13).large,l["\u0275nov"](e,13).giant,l["\u0275nov"](e,13).primary,l["\u0275nov"](e,13).info,l["\u0275nov"](e,13).success,l["\u0275nov"](e,13).warning,l["\u0275nov"](e,13).danger,l["\u0275nov"](e,13).rectangle,l["\u0275nov"](e,13).round,l["\u0275nov"](e,13).semiRound,l["\u0275nov"](e,13).iconLeft,l["\u0275nov"](e,13).iconRight,l["\u0275nov"](e,13).transitions,l["\u0275nov"](e,14).isSpinnerExist])})}function b(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,16777216,null,null,7,"nb-card",[["nbSpinnerSize","giant"],["nbSpinnerStatus","primary"]],[[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"nb-spinner-container",null]],null,null,s.Bb,s.F)),l["\u0275did"](1,49152,null,0,d.nb,[],null,null),l["\u0275did"](2,81920,null,0,d.Fd,[l.ViewContainerRef,l.ComponentFactoryResolver,l.Renderer2,l.ElementRef],{spinnerStatus:[0,"spinnerStatus"],spinnerSize:[1,"spinnerSize"],nbSpinner:[2,"nbSpinner"]},null),(n()(),l["\u0275eld"](3,0,null,0,2,"nb-card-header",[],null,null,null,s.Db,s.H)),l["\u0275did"](4,49152,null,0,d.qb,[],null,null),(n()(),l["\u0275ted"](-1,0,[" Edit Privacy Policy "])),(n()(),l["\u0275and"](16777216,null,1,1,null,y)),l["\u0275did"](7,16384,null,0,f.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){var o=e.component;n(e,2,0,"primary","giant",!o.canDisplay),n(e,7,0,o.canDisplay)},function(n,e){n(e,0,1,[l["\u0275nov"](e,1).tiny,l["\u0275nov"](e,1).small,l["\u0275nov"](e,1).medium,l["\u0275nov"](e,1).large,l["\u0275nov"](e,1).giant,l["\u0275nov"](e,1).primary,l["\u0275nov"](e,1).info,l["\u0275nov"](e,1).success,l["\u0275nov"](e,1).warning,l["\u0275nov"](e,1).danger,l["\u0275nov"](e,1).hasAccent,l["\u0275nov"](e,1).primaryAccent,l["\u0275nov"](e,1).infoAccent,l["\u0275nov"](e,1).successAccent,l["\u0275nov"](e,1).warningAccent,l["\u0275nov"](e,1).dangerAccent,l["\u0275nov"](e,2).isSpinnerExist])})}function C(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ngx-privacy",[],null,null,null,b,h)),l["\u0275did"](1,114688,null,0,a,[m.a,v.l,t.a,d.Zd,i.a],null,null)],function(n,e){n(e,1,0)},null)}var S=l["\u0275ccf"]("ngx-privacy",a,C,{},{},[]),R=o("kQDJ");o.d(e,"PrivacyModuleNgFactory",function(){return _});var _=l["\u0275cmf"](u,[],function(n){return l["\u0275mod"]([l["\u0275mpd"](512,l.ComponentFactoryResolver,l["\u0275CodegenComponentFactoryResolver"],[[8,[r.a,s.m,S]],[3,l.ComponentFactoryResolver],l.NgModuleRef]),l["\u0275mpd"](4608,f.NgLocalization,f.NgLocaleLocalization,[l.LOCALE_ID,[2,f["\u0275angular_packages_common_common_a"]]]),l["\u0275mpd"](4608,g["\u0275angular_packages_forms_forms_o"],g["\u0275angular_packages_forms_forms_o"],[]),l["\u0275mpd"](1073742336,f.CommonModule,f.CommonModule,[]),l["\u0275mpd"](1073742336,g["\u0275angular_packages_forms_forms_d"],g["\u0275angular_packages_forms_forms_d"],[]),l["\u0275mpd"](1073742336,g.FormsModule,g.FormsModule,[]),l["\u0275mpd"](1073742336,v.p,v.p,[[2,v.u],[2,v.l]]),l["\u0275mpd"](1073742336,d.Ke,d.Ke,[]),l["\u0275mpd"](1073742336,d.mc,d.mc,[d.lc]),l["\u0275mpd"](1073742336,d.rb,d.rb,[]),l["\u0275mpd"](1073742336,d.pc,d.pc,[]),l["\u0275mpd"](1073742336,d.Q,d.Q,[]),l["\u0275mpd"](1073742336,d.Gd,d.Gd,[]),l["\u0275mpd"](1073742336,R.CKEditorModule,R.CKEditorModule,[]),l["\u0275mpd"](1073742336,u,u,[]),l["\u0275mpd"](1024,v.j,function(){return[[{path:"",component:a}]]},[])])})}}]);