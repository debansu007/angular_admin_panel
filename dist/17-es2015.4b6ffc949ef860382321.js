(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"8Xca":function(n,e,t){"use strict";t.r(e);var l=t("8Y7J"),a=t("ZJFI"),o=t("IzEk"),i=t("njzu");class s{constructor(n,e,t,l,a){this.afAuth=n,this.router=e,this.databaseServ=t,this._sanitizer=l,this.dataServ=a,this.canDisplay=!1,this.settings={actions:{add:!1,edit:!0,delete:!1,position:"left"},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmSave:!0},columns:{name:{title:"Name"},email:{title:"Email",editable:!1},phone:{title:"Phone"},image:{title:"Image",type:"html",valuePrepareFunction:n=>this._sanitizer.bypassSecurityTrustHtml(`<img style="width: 150px; height: 100px;" src='${n||"/assets/images/no_img_available.jpg"}' />`),filter:!1,editable:!1},websiteUrl:{title:"Website"},verifyStatus:{title:"Status",editable:!1,filter:!1}}},this.data=[],this.afAuth.authState.subscribe(n=>{n?(this.canDisplay=!0,this.dataServ.userSource.subscribe(n=>{console.log("user page",n),n&&"admin"!=n.userType&&this.router.navigate(["pages/report"])},n=>{console.log(n)})):(this.canDisplay=!1,this.router.navigate(["auth/login"]))})}ngOnInit(){this.getOrganizations()}getOrganizations(){this.databaseServ.getAllOrganization().pipe(Object(o.a)(1)).subscribe(n=>{console.log(n),n.forEach((e,t)=>{n[t]=Object.assign({},n[t],{verifyStatus:e.userid?"Verified":"Unverified"})}),this.data=n},n=>{console.log(n)})}onEditConfirm(n){console.log("foo",n),this.updateComp(n)}updateComp(n){delete n.newData.verifyStatus,this.databaseServ.updateCompany(n.newData).then(e=>{n.confirm.resolve()}).catch(e=>{console.log(e),n.confirm.reject()})}onRowSelect(n){console.log(n),this.router.navigate(["pages/report"],{queryParams:{companyId:n.data.id}})}}class r{}var u=t("pMnS"),c=t("jXVt"),d=t("tKwJ"),m=t("+ImT"),p=t("Qq3i"),g=t("SVse"),f=t("irV9"),b=t("iInd"),v=t("cUpR"),h=l["\u0275crt"]({encapsulation:0,styles:[[".nb-theme-default nb-card-body::-webkit-scrollbar{height:15px}"]],data:{}});function y(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,8,"nb-card",[],[[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null]],null,null,c.Bb,c.F)),l["\u0275did"](1,49152,null,0,d.nb,[],null,null),(n()(),l["\u0275eld"](2,0,null,0,2,"nb-card-header",[],null,null,null,c.Db,c.H)),l["\u0275did"](3,49152,null,0,d.qb,[],null,null),(n()(),l["\u0275ted"](-1,0,[" Company Table "])),(n()(),l["\u0275eld"](5,0,null,1,3,"nb-card-body",[],null,null,null,c.Ab,c.E)),l["\u0275did"](6,49152,null,0,d.mb,[],null,null),(n()(),l["\u0275eld"](7,0,null,0,1,"ng2-smart-table",[],null,[[null,"editConfirm"],[null,"userRowSelect"]],function(n,e,t){var l=!0,a=n.component;return"editConfirm"===e&&(l=!1!==a.onEditConfirm(t)&&l),"userRowSelect"===e&&(l=!1!==a.onRowSelect(t)&&l),l},m.b,m.a)),l["\u0275did"](8,573440,null,0,p.a,[],{source:[0,"source"],settings:[1,"settings"]},{userRowSelect:"userRowSelect",editConfirm:"editConfirm"})],function(n,e){var t=e.component;n(e,8,0,t.data,t.settings)},function(n,e){n(e,0,1,[l["\u0275nov"](e,1).tiny,l["\u0275nov"](e,1).small,l["\u0275nov"](e,1).medium,l["\u0275nov"](e,1).large,l["\u0275nov"](e,1).giant,l["\u0275nov"](e,1).primary,l["\u0275nov"](e,1).info,l["\u0275nov"](e,1).success,l["\u0275nov"](e,1).warning,l["\u0275nov"](e,1).danger,l["\u0275nov"](e,1).hasAccent,l["\u0275nov"](e,1).primaryAccent,l["\u0275nov"](e,1).infoAccent,l["\u0275nov"](e,1).successAccent,l["\u0275nov"](e,1).warningAccent,l["\u0275nov"](e,1).dangerAccent])})}function _(n){return l["\u0275vid"](0,[(n()(),l["\u0275and"](16777216,null,null,1,null,y)),l["\u0275did"](1,16384,null,0,g.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){n(e,1,0,e.component.canDisplay)},null)}function S(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"ngx-company",[],null,null,null,_,h)),l["\u0275did"](1,114688,null,0,s,[f.a,b.l,a.a,v.b,i.a],null,null)],function(n,e){n(e,1,0)},null)}var w=l["\u0275ccf"]("ngx-company",s,S,{},{},[]),C=t("s7LF"),R=t("IheW"),k=t("TYxm"),F=t("VDLQ"),z=t("NrAT"),A=t("m1S1"),I=t("WBAi"),D=t("mbdJ"),M=t("6t6V");t.d(e,"CompanyModuleNgFactory",function(){return O});var O=l["\u0275cmf"](r,[],function(n){return l["\u0275mod"]([l["\u0275mpd"](512,l.ComponentFactoryResolver,l["\u0275CodegenComponentFactoryResolver"],[[8,[u.a,w]],[3,l.ComponentFactoryResolver],l.NgModuleRef]),l["\u0275mpd"](4608,g.NgLocalization,g.NgLocaleLocalization,[l.LOCALE_ID,[2,g["\u0275angular_packages_common_common_a"]]]),l["\u0275mpd"](4608,C["\u0275angular_packages_forms_forms_o"],C["\u0275angular_packages_forms_forms_o"],[]),l["\u0275mpd"](4608,C.FormBuilder,C.FormBuilder,[]),l["\u0275mpd"](4608,R.l,R.r,[g.DOCUMENT,l.PLATFORM_ID,R.p]),l["\u0275mpd"](4608,R.s,R.s,[R.l,R.q]),l["\u0275mpd"](5120,R.a,function(n){return[n]},[R.s]),l["\u0275mpd"](4608,R.o,R.o,[]),l["\u0275mpd"](6144,R.m,null,[R.o]),l["\u0275mpd"](4608,R.k,R.k,[R.m]),l["\u0275mpd"](6144,R.b,null,[R.k]),l["\u0275mpd"](4608,R.g,R.n,[R.b,l.Injector]),l["\u0275mpd"](4608,R.c,R.c,[R.g]),l["\u0275mpd"](4608,k.i,k.i,[]),l["\u0275mpd"](4608,k.k,k.k,[R.c]),l["\u0275mpd"](4608,k.c,k.c,[k.i,k.k]),l["\u0275mpd"](1073742336,g.CommonModule,g.CommonModule,[]),l["\u0275mpd"](1073742336,b.p,b.p,[[2,b.u],[2,b.l]]),l["\u0275mpd"](1073742336,C["\u0275angular_packages_forms_forms_d"],C["\u0275angular_packages_forms_forms_d"],[]),l["\u0275mpd"](1073742336,C.FormsModule,C.FormsModule,[]),l["\u0275mpd"](1073742336,C.ReactiveFormsModule,C.ReactiveFormsModule,[]),l["\u0275mpd"](1073742336,R.e,R.e,[]),l["\u0275mpd"](1073742336,R.d,R.d,[]),l["\u0275mpd"](1073742336,k.j,k.j,[]),l["\u0275mpd"](1073742336,F.a,F.a,[]),l["\u0275mpd"](1073742336,z.a,z.a,[]),l["\u0275mpd"](1073742336,A.a,A.a,[]),l["\u0275mpd"](1073742336,I.a,I.a,[]),l["\u0275mpd"](1073742336,D.a,D.a,[]),l["\u0275mpd"](1073742336,M.a,M.a,[]),l["\u0275mpd"](1073742336,d.Ke,d.Ke,[]),l["\u0275mpd"](1073742336,d.mc,d.mc,[d.lc]),l["\u0275mpd"](1073742336,d.rb,d.rb,[]),l["\u0275mpd"](1073742336,d.pc,d.pc,[]),l["\u0275mpd"](1073742336,d.Q,d.Q,[]),l["\u0275mpd"](1073742336,r,r,[]),l["\u0275mpd"](256,R.p,"XSRF-TOKEN",[]),l["\u0275mpd"](256,R.q,"X-XSRF-TOKEN",[]),l["\u0275mpd"](1024,b.j,function(){return[[{path:"",component:s}]]},[])])})}}]);