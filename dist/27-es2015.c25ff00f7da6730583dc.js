(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{Y8LX:function(n,e,l){"use strict";l.r(e);var t=l("8Y7J"),a=l("ZJFI"),i=l("njzu"),s=l("IzEk");class o{constructor(n,e,l,t,a){this.afAuth=n,this.router=e,this.databaseServ=l,this._sanitizer=t,this.dataServ=a,this.canDisplay=!1,this.settings={actions:{add:!1,edit:!0,delete:!1,position:"left"},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmSave:!0},columns:{name:{title:"Name"},email:{title:"Email",editable:!1},phone:{title:"Phone"},image:{title:"Image",type:"html",valuePrepareFunction:n=>this._sanitizer.bypassSecurityTrustHtml(`<img style="width: 150px; height: 100px;" src='${n||"/assets/images/no_img_available.jpg"}' />`),filter:!1,editable:!1},websiteUrl:{title:"Website"},userType:{title:"User Type",editable:!1,filter:!1}}},this.data=[],this.afAuth.authState.subscribe(n=>{n?(this.canDisplay=!0,this.dataServ.userSource.subscribe(n=>{console.log("user page",n),n&&"admin"!=n.userType&&this.router.navigate(["pages/report"])},n=>{console.log(n)})):(this.canDisplay=!1,this.router.navigate(["auth/login"]))})}ngOnInit(){this.getUsers()}getUsers(){this.databaseServ.getAllUsers().pipe(Object(s.a)(1)).subscribe(n=>{console.log(n),n.forEach((e,l)=>{n[l]=Object.assign({},n[l],{userType:e.isIndividual?"Individual":"Organization"})}),this.data=n},n=>{console.log(n)})}onEditConfirm(n){console.log("foo",n),this.updateUser(n)}updateUser(n){delete n.newData.userType,this.databaseServ.updateUser(n.newData).then(e=>{n.confirm.resolve()}).catch(e=>{console.log(e),n.confirm.reject()})}}class r{}var u=l("pMnS"),c=l("jXVt"),d=l("tKwJ"),m=l("+ImT"),p=l("Qq3i"),g=l("SVse"),f=l("irV9"),b=l("iInd"),v=l("cUpR"),h=t["\u0275crt"]({encapsulation:0,styles:[[".nb-theme-default nb-card-body::-webkit-scrollbar{height:15px}"]],data:{}});function y(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,8,"nb-card",[],[[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null]],null,null,c.Bb,c.F)),t["\u0275did"](1,49152,null,0,d.nb,[],null,null),(n()(),t["\u0275eld"](2,0,null,0,2,"nb-card-header",[],null,null,null,c.Db,c.H)),t["\u0275did"](3,49152,null,0,d.qb,[],null,null),(n()(),t["\u0275ted"](-1,0,[" User Table "])),(n()(),t["\u0275eld"](5,0,null,1,3,"nb-card-body",[],null,null,null,c.Ab,c.E)),t["\u0275did"](6,49152,null,0,d.mb,[],null,null),(n()(),t["\u0275eld"](7,0,null,0,1,"ng2-smart-table",[],null,[[null,"editConfirm"]],function(n,e,l){var t=!0;return"editConfirm"===e&&(t=!1!==n.component.onEditConfirm(l)&&t),t},m.b,m.a)),t["\u0275did"](8,573440,null,0,p.a,[],{source:[0,"source"],settings:[1,"settings"]},{editConfirm:"editConfirm"})],function(n,e){var l=e.component;n(e,8,0,l.data,l.settings)},function(n,e){n(e,0,1,[t["\u0275nov"](e,1).tiny,t["\u0275nov"](e,1).small,t["\u0275nov"](e,1).medium,t["\u0275nov"](e,1).large,t["\u0275nov"](e,1).giant,t["\u0275nov"](e,1).primary,t["\u0275nov"](e,1).info,t["\u0275nov"](e,1).success,t["\u0275nov"](e,1).warning,t["\u0275nov"](e,1).danger,t["\u0275nov"](e,1).hasAccent,t["\u0275nov"](e,1).primaryAccent,t["\u0275nov"](e,1).infoAccent,t["\u0275nov"](e,1).successAccent,t["\u0275nov"](e,1).warningAccent,t["\u0275nov"](e,1).dangerAccent])})}function _(n){return t["\u0275vid"](0,[(n()(),t["\u0275and"](16777216,null,null,1,null,y)),t["\u0275did"](1,16384,null,0,g.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){n(e,1,0,e.component.canDisplay)},null)}function C(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"ngx-user",[],null,null,null,_,h)),t["\u0275did"](1,114688,null,0,o,[f.a,b.l,a.a,v.b,i.a],null,null)],function(n,e){n(e,1,0)},null)}var k=t["\u0275ccf"]("ngx-user",o,C,{},{},[]),w=l("s7LF"),F=l("IheW"),I=l("TYxm"),T=l("VDLQ"),A=l("NrAT"),S=l("m1S1"),z=l("WBAi"),R=l("mbdJ"),U=l("6t6V");l.d(e,"UserModuleNgFactory",function(){return D});var D=t["\u0275cmf"](r,[],function(n){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[u.a,k]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,g.NgLocalization,g.NgLocaleLocalization,[t.LOCALE_ID,[2,g["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](4608,w["\u0275angular_packages_forms_forms_o"],w["\u0275angular_packages_forms_forms_o"],[]),t["\u0275mpd"](4608,w.FormBuilder,w.FormBuilder,[]),t["\u0275mpd"](4608,F.l,F.r,[g.DOCUMENT,t.PLATFORM_ID,F.p]),t["\u0275mpd"](4608,F.s,F.s,[F.l,F.q]),t["\u0275mpd"](5120,F.a,function(n){return[n]},[F.s]),t["\u0275mpd"](4608,F.o,F.o,[]),t["\u0275mpd"](6144,F.m,null,[F.o]),t["\u0275mpd"](4608,F.k,F.k,[F.m]),t["\u0275mpd"](6144,F.b,null,[F.k]),t["\u0275mpd"](4608,F.g,F.n,[F.b,t.Injector]),t["\u0275mpd"](4608,F.c,F.c,[F.g]),t["\u0275mpd"](4608,I.i,I.i,[]),t["\u0275mpd"](4608,I.k,I.k,[F.c]),t["\u0275mpd"](4608,I.c,I.c,[I.i,I.k]),t["\u0275mpd"](1073742336,g.CommonModule,g.CommonModule,[]),t["\u0275mpd"](1073742336,b.p,b.p,[[2,b.u],[2,b.l]]),t["\u0275mpd"](1073742336,w["\u0275angular_packages_forms_forms_d"],w["\u0275angular_packages_forms_forms_d"],[]),t["\u0275mpd"](1073742336,w.FormsModule,w.FormsModule,[]),t["\u0275mpd"](1073742336,w.ReactiveFormsModule,w.ReactiveFormsModule,[]),t["\u0275mpd"](1073742336,F.e,F.e,[]),t["\u0275mpd"](1073742336,F.d,F.d,[]),t["\u0275mpd"](1073742336,I.j,I.j,[]),t["\u0275mpd"](1073742336,T.a,T.a,[]),t["\u0275mpd"](1073742336,A.a,A.a,[]),t["\u0275mpd"](1073742336,S.a,S.a,[]),t["\u0275mpd"](1073742336,z.a,z.a,[]),t["\u0275mpd"](1073742336,R.a,R.a,[]),t["\u0275mpd"](1073742336,U.a,U.a,[]),t["\u0275mpd"](1073742336,d.Ke,d.Ke,[]),t["\u0275mpd"](1073742336,d.mc,d.mc,[d.lc]),t["\u0275mpd"](1073742336,d.rb,d.rb,[]),t["\u0275mpd"](1073742336,d.pc,d.pc,[]),t["\u0275mpd"](1073742336,r,r,[]),t["\u0275mpd"](256,F.p,"XSRF-TOKEN",[]),t["\u0275mpd"](256,F.q,"X-XSRF-TOKEN",[]),t["\u0275mpd"](1024,b.j,function(){return[[{path:"",component:o}]]},[])])})}}]);